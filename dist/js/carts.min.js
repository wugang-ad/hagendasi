"use strict";function convertStrToObj(l){return l?JSON.parse(l):{}}$(function(){$("header").load("public.min.html  .top"),$("nav").load("public.min.html  .ulP"),$(".ema").load("public.min.html  .emacon"),$("footer").load("public.min.html  .foot"),$("footer").load("public.min.html  .foot1"),$(".push").load("public.min.html .push1")}),$(function(){var t=window.localStorage,l=t.getItem("carts"),c=convertStrToObj(l);if(""==!l){$(".carP").append('\n            <ul class="ulB">\n            <li>图片</li>\n            <li>产品</li>\n            <li>价格</li>\n            <li>数量</li>\n            <li>总价</li>\n            <li>删除</li>\n            </ul>\n            ');var n,i=0;for(n in c){var a=c[n];i+=parseInt(a.num),$(".carP").append('\n            <ul>\n                <li><img src="../'.concat(a.src,'" /></li>\n                <li>').concat(a.name,"</li>\n                <li>").concat(a.price,"</li>\n                <li>").concat(a.num,'</li>\n                <li class="total">').concat(a.price*a.num,'</li>\n                <li class="delL">删除</li>\n               </ul>\n            ')),$(".carP ul").on("click",".delL",function(){var l=$(this).parent().children().first().find("img").attr("src").substring(3);$(this).parent().remove(),delete c[l],t.setItem("carts",JSON.stringify(c));var n,i=0;for(n in c){var a=c[n];i+=parseInt(a.num)}$(".proNum").html(i),console.log(t.getItem("carts")),"{}"==t.getItem("carts")&&$(".carP").html('\n                        <p><span><img src="../img/carticon.png" alt=""><b>外送产品</b><i class="proNum">0</i>  </span><span><img src="../img/carticon.png" alt=""><b>礼券</b><i>0</i> </span></p>\n                        <ul  class="ulA">\n                            <li>购物车无商品，请先去选择商品</li>\n                        </ul>\n                        <a href="#">返回去购物</a>')})}}else $(".carP").append('<ul  class="ulA">\n            <li>购物车无商品，请先去选择商品</li>\n            </ul>\n            <a href="#">返回去购物</a>');$(".proNum").html(i)});