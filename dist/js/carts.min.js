"use strict";function convertStrToObj(l){return l?JSON.parse(l):{}}$(function(){$("header").load("public.min.html  .top"),$("nav").load("public.min.html  .ulP"),$(".ema").load("public.min.html  .emacon"),$("footer").load("public.min.html  .foot"),$("footer").load("public.min.html  .foot1"),$(".push").load("public.min.html .push1")}),$(function(){var i=window.localStorage,l=i.getItem("carts"),c=convertStrToObj(l);if(l){$(".carP").append('\n        <ul class="ulB">\n        <li>图片</li>\n        <li>产品</li>\n        <li>价格</li>\n        <li>数量</li>\n        <li>总价</li>\n        <li>删除</li>\n        </ul>\n        ');var n,t=0;for(n in c)!function(l){var n=c[l];t+=parseInt(n.num),$(".carP").append('\n        <ul>\n            <li><img src="../'.concat(n.src,'" /></li>\n            <li>').concat(n.name,"</li>\n            <li>").concat(n.price,"</li>\n            <li>").concat(n.num,'</li>\n            <li class="total">').concat(n.price*n.num,'</li>\n            <li class="delL">删除</li>\n           </ul>\n        ')),$(".carP ul").on("click",".delL",function(){console.log(n.src),delete c[n.src],i.setItem("carts",JSON.stringify(c)),t-=parseInt(n.num),$(this).parent().remove(),$(".proNum").html(t)})}(n)}else $(".carP").append('<ul  class="ulA">\n                <li>购物车无商品，请先去选择商品</li>\n            </ul>\n            <a href="#">返回去购物</a>');$(".proNum").html(t)});